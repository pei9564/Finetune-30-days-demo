# Finetune-30-days â€” LoRA è¨“ç·´èˆ‡å¯¦é©—ç®¡ç†

æ­¤å°ˆæ¡ˆæä¾›ä¸€å€‹å®Œæ•´çš„ **LoRA å¾®èª¿ç³»çµ±**ï¼Œæ”¯æ´ M3 æ™¶ç‰‡ (MPS)ã€NVIDIA GPU (CUDA) èˆ‡ CPUã€‚

**ä¸»è¦ç‰¹é»**ï¼š
- ğŸš€ æ”¯æ´åŒæ­¥ï¼ˆæœ¬åœ°ï¼‰èˆ‡éåŒæ­¥ï¼ˆåˆ†æ•£å¼ï¼‰è¨“ç·´
- ğŸ“Š å®Œæ•´çš„è³‡æ–™ç‰ˆæœ¬ç®¡ç†èˆ‡é©—è­‰æ©Ÿåˆ¶
- ğŸ¯ å¯¦é©—çµæœè‡ªå‹•ä¿å­˜èˆ‡è¿½è¹¤
- ğŸŒ ç¶²é ç•Œé¢æ”¯æ´ä»»å‹™æäº¤èˆ‡é€²åº¦ç›£æ§
- ğŸ”„ åŸºæ–¼ Celery + Redis çš„éåŒæ­¥ä»»å‹™ç³»çµ±
- ğŸ“ çµæ§‹åŒ–çš„é…ç½®ç®¡ç†ï¼ˆPydantic + YAMLï¼‰
- â˜¸ï¸ å®Œæ•´çš„ Kubernetes éƒ¨ç½²æ”¯æ´
- ğŸ³ å„ªåŒ–çš„å¤šéšæ®µ Docker æ§‹å»º
- ğŸ“ˆ æ•ˆèƒ½ç›£æ§èˆ‡åˆ†æå·¥å…·

---

## ğŸ”„ ç³»çµ±äº’å‹•æµç¨‹

```mermaid
sequenceDiagram
    participant U as ä½¿ç”¨è€…
    participant UI as Streamlit UI
    participant API as FastAPI
    participant C as Celery Worker
    participant T as è¨“ç·´ç¨‹å¼
    participant DB as SQLite DB
    participant R as Redis

    U->>UI: å¡«å¯«å¯¦é©—åƒæ•¸ä¸¦æäº¤
    UI->>API: POST /train (config)
    API->>C: æäº¤ Celery ä»»å‹™
    C->>R: ä»»å‹™å…¥éšŠ (task_id)
    API-->>UI: å›å‚³ task_id

    loop ä»»å‹™è¼ªè©¢
        UI->>API: GET /task/{task_id}
        API->>R: æŸ¥è©¢ç‹€æ…‹
        R-->>API: è¿”å› PENDING/STARTED
        API-->>UI: æ›´æ–° UI Stepper ç‹€æ…‹
    end

    C->>T: åŸ·è¡Œ train_lora_v2.py
    T->>DB: å¯«å…¥å¯¦é©—è¨˜éŒ„
    T->>R: æ›´æ–°ä»»å‹™çµæœ (SUCCESS)
    UI->>API: æœ€å¾ŒæŸ¥è©¢ /task/{task_id}
    API-->>UI: è¿”å› SUCCESS + å¯¦é©—çµæœ
```

## ğŸ”„ ç³»çµ±æ¶æ§‹

```mermaid
graph TB
    subgraph Training["è¨“ç·´æµç¨‹"]
        Train[train_lora_v2.py] --> |ä¿å­˜å¯¦é©—çµæœ| Results[(results/)]
        Results --> |åŒ…å«| Config[config.yaml]
        Results --> |åŒ…å«| Model[final_model/]
    end

    subgraph Inference["æ¨è«–æœå‹™"]
        API[inference_api.py] --> |è®€å–é…ç½®| Config
        API --> |è¼‰å…¥æ¬Šé‡| Model
        API --> |å›æ‡‰è«‹æ±‚| Response[JSON Response]
    end

    subgraph Client["å®¢æˆ¶ç«¯"]
        CLI[make serve] --> |å•Ÿå‹•| API
        Test[make predict-*] --> |æ¸¬è©¦| API
    end

    Results --> |å¯¦é©—è¨˜éŒ„| DB[(experiments.db)]
```

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api.py                    # API è·¯ç”±èˆ‡ç«¯é»å®šç¾©
â”‚   â”œâ”€â”€ config.py                 # é…ç½®å®šç¾©èˆ‡é©—è­‰
â”‚   â”œâ”€â”€ db.py                     # è³‡æ–™åº«æ¨¡å‹èˆ‡æ“ä½œ
â”‚   â”œâ”€â”€ inference_api.py          # æƒ…æ„Ÿåˆ†é¡æ¨è«–æœå‹™
â”‚   â”œâ”€â”€ logger_config.py          # æ—¥èªŒé…ç½®èˆ‡ç®¡ç†
â”‚   â”œâ”€â”€ settings.py               # ç³»çµ±è¨­å®šèˆ‡å¸¸æ•¸
â”‚   â”œâ”€â”€ stepper_ui.py            # Streamlit UI ä»‹é¢
â”‚   â”œâ”€â”€ train_lora_v2.py         # LoRA è¨“ç·´ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ data_management/         # è³‡æ–™ç®¡ç†æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ data_validator.py    # è³‡æ–™é›†é©—è­‰èˆ‡å“è³ªæª¢æŸ¥
â”‚   â”‚   â”œâ”€â”€ dataset_analyzer.py  # è³‡æ–™é›†åˆ†å¸ƒèˆ‡çµ±è¨ˆåˆ†æ
â”‚   â”‚   â””â”€â”€ version_manager.py   # è³‡æ–™é›†ç‰ˆæœ¬èˆ‡è®Šæ›´è¿½è¹¤
â”‚   â”œâ”€â”€ monitoring/             # ç›£æ§æ¨¡çµ„
â”‚   â”‚   â””â”€â”€ performance.py      # ç³»çµ±æ•ˆèƒ½èˆ‡è³‡æºç›£æ§
â”‚   â”œâ”€â”€ tools/                  # å·¥å…·æ¨¡çµ„
â”‚   â”‚   â””â”€â”€ analyze_metrics.py  # å¯¦é©—æŒ‡æ¨™åˆ†æå·¥å…·
â”‚   â””â”€â”€ train_lora_v2.py        # LoRA è¨“ç·´ä¸»ç¨‹å¼
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶ç›®éŒ„
â”‚   â”œâ”€â”€ default.yaml           # é è¨­è¨“ç·´é…ç½®
â”‚   â”œâ”€â”€ albert.yaml            # Albert æ¨¡å‹é…ç½®
â”‚   â”œâ”€â”€ bert_chinese.yaml      # ä¸­æ–‡ BERT é…ç½®
â”‚   â”œâ”€â”€ distilbert_optimized.yaml  # å„ªåŒ–çš„ DistilBERT é…ç½®
â”‚   â””â”€â”€ roberta.yaml           # RoBERTa æ¨¡å‹é…ç½®
â”œâ”€â”€ results/                     # å¯¦é©—çµæœç›®éŒ„
â”‚   â””â”€â”€ {å¯¦é©—åç¨±}/            # ç¨ç«‹å¯¦é©—ç›®éŒ„
â”‚       â”œâ”€â”€ config.yaml        # å¯¦é©—å®Œæ•´é…ç½®
â”‚       â”œâ”€â”€ metrics.json       # è¨“ç·´è©•ä¼°æŒ‡æ¨™
â”‚       â”œâ”€â”€ logs.txt          # è¨“ç·´æ—¥èªŒ
â”‚       â””â”€â”€ artifacts/        # æ¨¡å‹èˆ‡æª¢æŸ¥é»
â”‚           â”œâ”€â”€ checkpoint-*/ # è¨“ç·´ä¸­é–“æª¢æŸ¥é»
â”‚           â””â”€â”€ final_model/  # æœ€çµ‚è¨“ç·´æ¨¡å‹
â”œâ”€â”€ data/                      # è³‡æ–™é›†ç›®éŒ„
â”‚   â”œâ”€â”€ datasets/             # è¨“ç·´è³‡æ–™é›†
â”‚   â””â”€â”€ metadata/             # è³‡æ–™é›†å…ƒè³‡æ–™
â”œâ”€â”€ requirements.txt           # Python ä¾è³´æ¸…å–®
â”œâ”€â”€ Makefile                  # å°ˆæ¡ˆç®¡ç†æŒ‡ä»¤
â””â”€â”€ README.md                 # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¨­ç½®

1. **è¤‡è£½ç’°å¢ƒè®Šæ•¸æ–‡ä»¶**ï¼š
   ```bash
   cp .env.example .env
   ```

2. **ç·¨è¼¯ç’°å¢ƒè®Šæ•¸**ï¼ˆå¯é¸ï¼‰ï¼š
   ```bash
   # ç·¨è¼¯ .env æ–‡ä»¶ä¾†è‡ªå®šç¾©é…ç½®
   nano .env
   ```

   ä¸»è¦é…ç½®é …ç›®ï¼š
   - `REDIS_PORT`: Redis ç«¯å£ï¼ˆé è¨­ï¼š6379ï¼‰
   - `API_PORT`: API æœå‹™ç«¯å£ï¼ˆé è¨­ï¼š8000ï¼‰
   - `UI_PORT`: UI ç•Œé¢ç«¯å£ï¼ˆé è¨­ï¼š8501ï¼‰
   - `TZ`: æ™‚å€è¨­å®šï¼ˆé è¨­ï¼šAsia/Taipeiï¼‰

### éƒ¨ç½²æ–¹å¼

1. **æœ¬åœ°ç›´æ¥è¨“ç·´**ï¼š
```bash
make setup-conda   # å»ºç«‹ Conda ç’°å¢ƒï¼ˆè‡ªå‹•åµæ¸¬ GPU/MPS/CPUï¼‰
make run-local     # ä½¿ç”¨é è¨­é…ç½®é–‹å§‹è¨“ç·´
make logs-local    # æŸ¥çœ‹è¨“ç·´é€²åº¦
```

2. **Docker å®¹å™¨éƒ¨ç½²**ï¼š
```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
make start-services  # å•Ÿå‹• Redisã€Workerã€APIã€UI æœå‹™

# ä½¿ç”¨ç¶²é ç•Œé¢ï¼ˆæ¨è–¦ï¼‰
# è¨ªå• http://localhost:8501
```

3. **Kubernetes éƒ¨ç½²**ï¼ˆæ–°å¢ï¼‰ï¼š
```bash
# å¿«é€Ÿéƒ¨ç½²ï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰
make k8s-quick-deploy  # ä¸€éµéƒ¨ç½²ï¼ˆå»ºæ§‹+éƒ¨ç½²ï¼‰

# é–‹å•Ÿæœå‹™è¨ªå•
make k8s-port-forward  # è½‰ç™¼æœå‹™ç«¯å£åˆ°æœ¬åœ°

# ç›£æ§èˆ‡ç®¡ç†
make k8s-dashboard    # é–‹å•Ÿ K8s å„€è¡¨æ¿
make k8s-status       # æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹
make k8s-logs service=worker  # æŸ¥çœ‹ç‰¹å®šæœå‹™æ—¥èªŒ

# æ“´å±•æœå‹™
make k8s-scale service=worker replicas=3  # èª¿æ•´ worker æ•¸é‡
```

> ğŸ’¡ **æœå‹™èªªæ˜**ï¼š
> - **Redis (localhost:6379)**ï¼šä»»å‹™ä½‡åˆ—èˆ‡çµæœå­˜å„²
> - **FastAPI (localhost:8000)**ï¼šREST API æœå‹™
> - **Streamlit UI (localhost:8501)**ï¼šç¶²é æ“ä½œç•Œé¢
>   - æ”¯æ´æ‰€æœ‰ default.yaml ä¸­çš„åƒæ•¸é…ç½®
>   - ç›´æ¥å‚³éè¨“ç·´é…ç½®ï¼ˆä¸å†ä½¿ç”¨è‡¨æ™‚æ–‡ä»¶ï¼‰
>   - å³æ™‚é¡¯ç¤ºè¨“ç·´é€²åº¦ï¼ˆæ¯ 2 ç§’æ›´æ–°ï¼‰
>   - å¯¦é©—è¨˜éŒ„æŸ¥çœ‹èˆ‡ç®¡ç†

### è‡ªå®šç¾©è¨“ç·´

1. **ä½¿ç”¨æ•ˆèƒ½ç›£æ§**ï¼š
   åœ¨è¨“ç·´éç¨‹ä¸­è‡ªå‹•å•Ÿç”¨ `PerformanceMonitor` ä»¥æ”¶é›†ç³»çµ±å’Œè¨“ç·´æŒ‡æ¨™ã€‚

2. **åˆ†æå¯¦é©—æ•¸æ“š**ï¼š
   ä½¿ç”¨ `analyze_metrics.py` ä¾†ç”Ÿæˆå¯¦é©—æ¯”è¼ƒå ±å‘Šã€‚
   ```bash
   make analyze-by-model
   ```

3. **ä¿®æ”¹é è¨­é…ç½®**ï¼š
   ç›´æ¥ç·¨è¼¯ `config/default.yaml`

4. **ä½¿ç”¨å‘½ä»¤åˆ—åƒæ•¸**ï¼š
   ```bash
   python app/train_lora_v2.py \
     --experiment_name "custom_test" \
     --learning_rate 0.001 \
     --epochs 3 \
     --train_samples 1000
   ```

### å¸¸ç”¨åƒæ•¸

```yaml
# åœ¨ config/default.yaml ä¸­å¯èª¿æ•´ï¼š

model:
  name: "distilbert-base-uncased"
  num_labels: 2

training:
  learning_rate: 5.0e-4
  num_train_epochs: 1
  per_device_train_batch_size: 2

lora:
  r: 8
  lora_alpha: 16
  target_modules: ["q_lin", "v_lin"]
  lora_dropout: 0.1
```

---

## ğŸ“Š å¯¦é©—ç®¡ç†

### å¯¦é©—ç›®éŒ„çµæ§‹

æ¯æ¬¡è¨“ç·´æœƒè‡ªå‹•å‰µå»ºå¯¦é©—å°ˆå±¬ç›®éŒ„ï¼š
```
results/
â””â”€â”€ {å¯¦é©—åç¨±}/             # å¯¦é©—ç›®éŒ„
    â”œâ”€â”€ config.yaml         # å¯¦é©—é…ç½®ï¼ˆå«åŸºç¤æ¨¡å‹è¨­å®šï¼‰
    â”œâ”€â”€ metrics.json        # è©•ä¼°æŒ‡æ¨™
    â””â”€â”€ artifacts/
        â””â”€â”€ final_model/    # è¨“ç·´å®Œæˆçš„æ¨¡å‹ï¼ˆLoRA æ¬Šé‡ï¼‰
```

- **ç³»çµ±æ—¥èªŒ**ï¼šè¨˜éŒ„è¨­å‚™ã€æ¨¡å‹è¼‰å…¥ã€è³‡æ–™è™•ç†ç­‰ç³»çµ±æ“ä½œ
- **è¨“ç·´é€²åº¦**ï¼šè¨˜éŒ„æ¯å€‹æ­¥é©Ÿçš„æå¤±å€¼ã€å­¸ç¿’ç‡ã€è©•ä¼°æŒ‡æ¨™ç­‰
- **å¯¦é©—é…ç½®**ï¼šåŒ…å«æ‰€æœ‰åƒæ•¸è¨­å®šï¼Œç¢ºä¿å¯¦é©—å¯é‡ç¾
- **è©•ä¼°æŒ‡æ¨™**ï¼šä¿å­˜æœ€çµ‚çš„è¨“ç·´æ™‚é–“ã€æº–ç¢ºç‡ç­‰çµæœ

### å¯¦é©—è¿½è¹¤

æä¾›å¤šç¨®æ–¹å¼æŸ¥çœ‹å¯¦é©—è¨˜éŒ„ï¼š

1. **ç¶²é ç•Œé¢**ï¼ˆæ¨è–¦ï¼‰ï¼š
   - è¨ªå• http://localhost:8501
   - åˆ‡æ›åˆ°ã€Œå¯¦é©—è¨˜éŒ„ã€é ç±¤
   - æ”¯æ´ç¯©é¸ã€æ’åºã€çµ±è¨ˆåŠŸèƒ½
   - å³æ™‚æ›´æ–°å¯¦é©—ç‹€æ…‹

2. **å‘½ä»¤åˆ—å·¥å…·**ï¼š
   ```bash
   # æŸ¥çœ‹å¯¦é©—è¨˜éŒ„ï¼ˆè¡¨æ ¼å½¢å¼ï¼‰
   make db-list
   
   # æŸ¥çœ‹æœ€æ–°å¯¦é©—çš„è¨“ç·´é€²åº¦
   make logs-local
   ```

3. **REST API**ï¼š
   ```bash
   # åˆ—å‡ºæ‰€æœ‰å¯¦é©—ï¼ˆæ”¯æ´ç¯©é¸å’Œæ’åºï¼‰
   curl "http://localhost:8000/experiments?min_accuracy=0.8&sort_by=eval_accuracy&desc=true"

   # æŸ¥è©¢å–®ä¸€å¯¦é©—
   curl http://localhost:8000/experiments/{experiment_id}

   # ç²å–å¯¦é©—çµ±è¨ˆ
   curl http://localhost:8000/experiments/stats
   ```

   æ”¯æ´çš„ç¯©é¸æ¢ä»¶ï¼š
   - `name`ï¼šå¯¦é©—åç¨±ï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰
   - `min_accuracy`ï¼šæœ€ä½æº–ç¢ºç‡
   - `max_runtime`ï¼šæœ€é•·è¨“ç·´æ™‚é–“
   - `start_date`/`end_date`ï¼šæ™‚é–“ç¯„åœ
   - `sort_by`ï¼šæ’åºæ¬„ä½ï¼ˆcreated_at/name/train_runtime/eval_accuracyï¼‰
   - `desc`ï¼šæ˜¯å¦é™åºæ’åº
   - `limit`ï¼šè¿”å›æ•¸é‡é™åˆ¶

### æ•ˆèƒ½ç›£æ§èˆ‡åˆ†æ
æœ¬å°ˆæ¡ˆæä¾›äº†å¼·å¤§çš„æ•ˆèƒ½ç›£æ§èˆ‡åˆ†æå·¥å…·ï¼Œå¹«åŠ©ç”¨æˆ¶è¿½è¹¤è¨“ç·´éç¨‹ä¸­çš„ç³»çµ±è³‡æºä½¿ç”¨æƒ…æ³å’Œæ¨¡å‹æ€§èƒ½ã€‚
`performance.py` æä¾›äº† `PerformanceMonitor` é¡ï¼Œç”¨æ–¼æ”¶é›† CPUã€è¨˜æ†¶é«”ä½¿ç”¨ç‡ä»¥åŠè¨“ç·´éç¨‹ä¸­çš„ token è™•ç†é€Ÿåº¦ã€‚
`analyze_metrics.py` æä¾›äº†åˆ†æå·¥å…·ï¼Œèƒ½å¤ å¾å¤šå€‹å¯¦é©—ä¸­æå–æ•¸æ“šä¸¦ç”Ÿæˆæ¯”è¼ƒå ±å‘Šã€‚

---

## ğŸ”§ è³‡æ–™ç®¡ç†å·¥å…·

ä»¥ä¸‹æŒ‡ä»¤ä½¿ç”¨é è¨­çš„ SST-2 ç¯„ä¾‹è³‡æ–™é›†ï¼Œåƒ…ä¾›é–‹ç™¼æ¸¬è©¦ç”¨é€”ã€‚
å¯¦éš›è¨“ç·´æ™‚ï¼Œé€™äº›åŠŸèƒ½å·²æ•´åˆåœ¨è¨“ç·´æµç¨‹ä¸­è‡ªå‹•åŸ·è¡Œã€‚

```bash
make data-analyze    # åˆ†ææ¨™ç±¤åˆ†å¸ƒ
make data-validate   # é©—è­‰è³‡æ–™å“è³ª
make data-versions   # ç®¡ç†è³‡æ–™ç‰ˆæœ¬
```

**è³‡æ–™é©—è­‰å ±å‘Šç¯„ä¾‹**ï¼š
```json
{
  "total_samples": 500,
  "label_counts": {"0": 245, "1": 255},
  "imbalance_ratio": 1.04,
  "is_balanced": true
}
```

---

## ğŸ’¡ æ³¨æ„äº‹é …

### ç’°å¢ƒè¨­ç½®
- é¦–æ¬¡ä½¿ç”¨è«‹åŸ·è¡Œ `make setup-conda` è¨­ç½®ç’°å¢ƒ
- ä½¿ç”¨ `make help` æŸ¥çœ‹å®Œæ•´çš„å‘½ä»¤èªªæ˜
- æ”¯æ´ Docker å’Œ Kubernetes éƒ¨ç½²
- ç’°å¢ƒè®Šæ•¸é…ç½®ï¼šè¤‡è£½ `.env.example` åˆ° `.env` ä¸¦æ ¹æ“šéœ€è¦èª¿æ•´

### Docker èˆ‡ Kubernetes
- ä½¿ç”¨å¤šéšæ®µæ§‹å»ºå„ªåŒ–æ˜ åƒå¤§å°å’Œæ§‹å»ºé€Ÿåº¦
- æ”¯æ´å¿«é€Ÿæ§‹å»ºï¼ˆé–‹ç™¼ç”¨ï¼‰å’Œå®Œæ•´æ§‹å»ºï¼ˆç”Ÿç”¢ç”¨ï¼‰
- Kubernetes éƒ¨ç½²æä¾›å®Œæ•´çš„æœå‹™ç®¡ç†åŠŸèƒ½
- ä½¿ç”¨ `make k8s-port-forward` ç°¡åŒ–æœå‹™è¨ªå•

### è¨“ç·´èˆ‡é…ç½®
- å¯¦é©—é…ç½®æœƒè‡ªå‹•ä¿å­˜ï¼Œæ–¹ä¾¿è¿½è¹¤å’Œé‡ç¾
- è³‡æ–™ç®¡ç†åŠŸèƒ½åœ¨è¨“ç·´æ™‚è‡ªå‹•åŸ·è¡Œï¼Œç¢ºä¿è³‡æ–™å“è³ª
- è¨“ç·´çµæœçµ±ä¸€ä¿å­˜åœ¨ `results/` ç›®éŒ„
- æ”¯æ´ç›´æ¥å‚³éè¨“ç·´é…ç½®ï¼Œç„¡éœ€è‡¨æ™‚æ–‡ä»¶

### éåŒæ­¥æœå‹™
- æ”¯æ´ Docker Compose å’Œ Kubernetes å…©ç¨®éƒ¨ç½²æ–¹å¼
- æä¾›å®Œæ•´çš„æœå‹™ç›£æ§å’Œç®¡ç†åŠŸèƒ½
- å»ºè­°ä½¿ç”¨ç¶²é ç•Œé¢æ“ä½œï¼ŒAPI æ¥å£ä¸»è¦ç”¨æ–¼ç¨‹å¼æ•´åˆ
- æœå‹™ç«¯å£å¯é€šé `.env` æ–‡ä»¶è‡ªå®šç¾©èª¿æ•´


### æ¨è«–æœå‹™

æœ¬å°ˆæ¡ˆæä¾›è¼•é‡ç´šçš„æƒ…æ„Ÿåˆ†é¡æ¨è«–æœå‹™ï¼Œæ”¯æ´å¤šç¨®é è¨“ç·´æ¨¡å‹ï¼š

- distilbert-base-uncasedï¼ˆè‹±æ–‡ï¼Œè¼•é‡ç´šï¼‰
- roberta-baseï¼ˆè‹±æ–‡ï¼Œé«˜æ€§èƒ½ï¼‰
- albert-base-v2ï¼ˆè‹±æ–‡ï¼Œè¼•é‡ç´šï¼‰
- bert-base-chineseï¼ˆä¸­æ–‡ï¼‰

1. **å•Ÿå‹•æœå‹™**ï¼š
```bash
# ä½¿ç”¨æœ€æ–°å¯¦é©—çš„æ¨¡å‹
make serve

# æˆ–æŒ‡å®šç‰¹å®šå¯¦é©—
make serve exp=default_experiment_20250911_233842
```

2. **æ¸¬è©¦é æ¸¬**ï¼š
```bash
# æª¢æŸ¥æœå‹™ç‹€æ…‹
make predict-health

# æ¸¬è©¦è‡ªè¨‚æ–‡æœ¬
make predict-text text='This movie was great!'

# ä½¿ç”¨é è¨­ç¯„ä¾‹
make predict-positive  # æ¸¬è©¦æ­£é¢è©•è«–
make predict-negative  # æ¸¬è©¦è² é¢è©•è«–
```

### å›æ‡‰æ ¼å¼

```json
{
    "label": 1,                    # 1 = positive, 0 = negative
    "probability": 0.9983,         # prediction confidence
    "latency_ms": 25.4,           # processing time (ms)
    "base_model": "distilbert-base-uncased",  # base model name
    "language": "English"          # model language
}
```

### æ³¨æ„äº‹é …

1. **æ¨¡å‹é¸æ“‡**ï¼š
   - è‹±æ–‡æ–‡æœ¬è«‹ä½¿ç”¨è‹±æ–‡æ¨¡å‹ï¼ˆdistilbert/roberta/albertï¼‰
   - ä¸­æ–‡æ–‡æœ¬è«‹ä½¿ç”¨ä¸­æ–‡æ¨¡å‹ï¼ˆbert-base-chineseï¼‰
   - æ³¨æ„æ–‡æœ¬èªè¨€è¦å’Œæ¨¡å‹èªè¨€åŒ¹é…

2. **æœå‹™é…ç½®**ï¼š
   - æœå‹™é‹è¡Œåœ¨ 8002 ç«¯å£
   - è‡ªå‹•æª¢æ¸¬ä¸¦ä½¿ç”¨ MPSï¼ˆApple Siliconï¼‰æˆ– CPU
   - æ”¯æ´æ¨¡å‹ç†±åˆ‡æ›ï¼ˆä¸éœ€é‡å•Ÿæœå‹™ï¼‰
